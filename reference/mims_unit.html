<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute Monitor Independent Motion Summary unit (MIMS-unit) — mims_unit • MIMSunit</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute Monitor Independent Motion Summary unit (MIMS-unit) — mims_unit" />
<meta property="og:description" content="mims_unit computes the Monitor Independent Motion Summary unit for the
input multi-channel accelerometer signal. The input signal can be from
devices of any sampling rate and dynamic range. Please refer to the
manuscript for detailed description of the algorithm. Please refer to
functions for the intermediate steps: extrapolate for
extrapolation, iir for filtering,
aggregate_for_mims for aggregation." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38342303-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-38342303-3');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MIMSunit</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.7.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Get Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/mims_unit_from_files.html">Compute MIMS-unit from files</a>
    </li>
    <li>
      <a href="../articles/mims_unit_from_imported_data.html">Compute MIMS-unit from imported data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Algorithm Walkthrough
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/conceptual_diagram.html">Step-by-step illustration</a>
    </li>
    <li>
      <a href="../articles/truncation_threshold.html">Deciding truncation threshold</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advance Guidance
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/import_data.html">Import Data</a>
    </li>
    <li>
      <a href="../articles/generate_intermediate.html">Generate Intermediate Output</a>
    </li>
    <li>
      <a href="../articles/customize.html">Customize MIMS unit algorithm</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Performances
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/cross_device_consistency.html">Cross device consistency</a>
    </li>
    <li>
      <a href="../articles/edge_cases.html">Performance under edge conditions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">API References</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mhealthgroup/mimsunit">
    <span class="fa fa-lg fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute Monitor Independent Motion Summary unit (MIMS-unit)</h1>
    <small class="dont-index">Source: <a href='https://github.com/mhealthgroup/MIMSunit/blob/master/R/mims_unit.R'><code>R/mims_unit.R</code></a></small>
    <div class="hidden name"><code>mims_unit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>mims_unit</code> computes the Monitor Independent Motion Summary unit for the
input multi-channel accelerometer signal. The input signal can be from
devices of any sampling rate and dynamic range. Please refer to the
manuscript for detailed description of the algorithm. Please refer to
functions for the intermediate steps: <code><a href='extrapolate.html'>extrapolate</a></code> for
extrapolation, <code><a href='iir.html'>iir</a></code> for filtering,
<code><a href='aggregate_for_mims.html'>aggregate_for_mims</a></code> for aggregation.</p>
    </div>

    <pre class="usage"><span class='fu'>mims_unit_from_files</span>(
  <span class='no'>files</span>,
  <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>"5 sec"</span>,
  <span class='no'>dynamic_range</span>,
  <span class='kw'>output_mims_per_axis</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>use_gui_progress</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>file_type</span> <span class='kw'>=</span> <span class='st'>"mhealth"</span>,
  <span class='no'>...</span>
)

<span class='fu'>mims_unit</span>(
  <span class='no'>df</span>,
  <span class='kw'>before_df</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>after_df</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>"5 sec"</span>,
  <span class='no'>dynamic_range</span>,
  <span class='kw'>output_mims_per_axis</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>use_gui_progress</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>st</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>files</th>
      <td><p>character vector. A list of csv filepaths for raw accelerometer
data organized in order to be processed. The data should be consecutive in
timestamps. A typical case is a set of hourly or daily files for
continuous accelerometer sampling.</p></td>
    </tr>
    <tr>
      <th>epoch</th>
      <td><p>string. Any format that is acceptable by argument <code>breaks</code>
in method <code><a href='https://rdrr.io/r/base/cut.POSIXt.html'>cut.POSIXt</a></code>.For example, "1 sec", "1 min", "5
sec", "10 min". Default is "5 sec".</p></td>
    </tr>
    <tr>
      <th>dynamic_range</th>
      <td><p>numerical vector. The dynamic ranges of the input
signal. Should be a 2-element numerical vector. <code><a href='https://rdrr.io/r/base/c.html'>c(low, high)</a></code>, where
<code>low</code> is the negative max value the device can reach and <code>high</code>
is the positive max value the device can reach.</p></td>
    </tr>
    <tr>
      <th>output_mims_per_axis</th>
      <td><p>logical. If it is TRUE, the output MIMS-unit
dataframe will have MIMS-unit values for each axis from the third column.
Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>use_gui_progress</th>
      <td><p>logical. If it is TRUE, show GUI progress bar on
windows platform. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>file_type</th>
      <td><p>character. "mhealth" or "actigraph". The type of the csv files
that store the raw accelerometer data.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters passed to the import function when reading
in the data from the files.</p></td>
    </tr>
    <tr>
      <th>df</th>
      <td><p>dataframe. Input multi-channel accelerometer signal.</p></td>
    </tr>
    <tr>
      <th>before_df</th>
      <td><p>dataframe. The multi-channel accelerometer signal comes
before the input signal to be prepended to the input signal during
computation. This is used to eliminate the edge effect during extrapolation
and filtering. If it is <code>NULL</code>, algorithm will run directly on the
input signal. Default is NULL.</p></td>
    </tr>
    <tr>
      <th>after_df</th>
      <td><p>dataframe. The multi-channel accelerometer signal comes after
the input signal to be append to the input signal. This is used to
eliminate the edge effect during extrapolation and filtering. If it is
<code>NULL</code>, algorithm will run directly on the input signal. Default is
NULL.</p></td>
    </tr>
    <tr>
      <th>st</th>
      <td><p>character or POSIXct timestamp. An optional start time you can set to
force the epochs generated by referencing this start time. If it is NULL, the
function will use the first timestamp in the timestamp column as start time to
generate epochs. This is useful when you are processing a stream of data and
want to use a common start time for segmenting data. Default is NULL.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>dataframe. The MIMS-unit dataframe. The first column is the start
  time of each epoch in POSIXct format. The second column is the MIMS-unit
  value for the input signal. If <code>output_mims_per_axis</code> is TRUE, the
  third column and then are the MIMS-unit values for each axis of the input
  signal.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This function is a wrapper function for the low-level
  <code><a href='custom_mims_unit.html'>custom_mims_unit</a></code> function. It has set internal parameters as
  described in the manuscript. If you want to run customized algorithm for
  MIMSunit or if you want to develop better algorithms based on MIMS-unit
  algorithm, please use function <code><a href='custom_mims_unit.html'>custom_mims_unit</a></code> where all
  parameters are tunable.</p>
<p><code>before_df</code> and <code>after_df</code> are often set when the accelerometer
  data are divided into files of smaller chunk.</p>
    <h2 class="hasAnchor" id="how-is-it-used-in-mims-unit-algorithm-"><a class="anchor" href="#how-is-it-used-in-mims-unit-algorithm-"></a>How is it used in MIMS-unit algorithm?</h2>

    <p>This is the main entry of
  MIMS-unit algorithm.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Top level API functions: 
<code><a href='custom_mims_unit.html'>custom_mims_unit</a>()</code>,
<code><a href='sensor_orientations.html'>sensor_orientations</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  <span class='co'># Use sample mhealth file for testing</span>
  <span class='no'>filepaths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
    <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>'extdata'</span>, <span class='st'>'mhealth.csv'</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'MIMSunit'</span>),
    <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>'extdata'</span>, <span class='st'>'mhealth1.csv'</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'MIMSunit'</span>)
  )

  <span class='co'># Test with single file</span>
  <span class='fu'>mims_unit_from_files</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>filepaths</span>[<span class='fl'>1</span>]),
                                <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>"10 sec"</span>,
                                <span class='kw'>dynamic_range</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>2</span>, <span class='fl'>2</span>))</div><div class='output co'>#&gt; ================================================================================</div><div class='output co'>#&gt;         HEADER_TIME_STAMP MIMS_UNIT
#&gt; 1 2017-03-16 12:25:49.987  4.122642
#&gt; 2 2017-03-16 12:25:59.007  4.587051
#&gt; 3 2017-03-16 12:26:09.007  4.384481
#&gt; 4 2017-03-16 12:26:19.007  4.263359
#&gt; 5 2017-03-16 12:26:29.007  4.551940
#&gt; 6 2017-03-16 12:26:39.007  4.624672</div><div class='input'>
  <span class='co'># Test with multiple files</span>
  <span class='fu'>mims_unit_from_files</span>(<span class='no'>filepaths</span>, <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>"20 sec"</span>, <span class='kw'>dynamic_range</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>2</span>, <span class='fl'>2</span>))</div><div class='output co'>#&gt; ================================================================================
#&gt; ================================================================================</div><div class='output co'>#&gt;         HEADER_TIME_STAMP MIMS_UNIT
#&gt; 1 2017-03-16 12:25:49.987 8.7136829
#&gt; 2 2017-03-16 12:26:09.007 8.6498777
#&gt; 3 2017-03-16 12:26:29.007 9.1808195
#&gt; 4 2017-03-16 12:26:49.013 2.3264562
#&gt; 5 2017-03-16 12:27:09.003 0.8603559
#&gt; 6 2017-03-16 12:27:29.003 5.6263526</div><div class='input'>  <span class='co'># Use sample data for testing</span>
  <span class='no'>df</span> <span class='kw'>=</span> <span class='no'>sample_raw_accel_data</span>

  <span class='co'># compute mims unit values</span>
  <span class='fu'>mims_unit</span>(<span class='no'>df</span>, <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>'5 min'</span>, <span class='kw'>dynamic_range</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>8</span>, <span class='fl'>8</span>))</div><div class='output co'>#&gt; ================================================================================</div><div class='output co'>#&gt;         HEADER_TIME_STAMP MIMS_UNIT
#&gt; 1 2016-01-15 11:00:00.013 357.93411
#&gt; 2 2016-01-15 11:05:00.003  50.06185
#&gt; 3 2016-01-15 11:10:00.003  16.67783
#&gt; 4 2016-01-15 11:15:00.003  -0.01000</div><div class='input'>
  <span class='co'># compute mims unit values with different epoch length</span>
  <span class='no'>output</span> <span class='kw'>=</span> <span class='fu'>mims_unit</span>(<span class='no'>df</span>, <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>'15 sec'</span>, <span class='kw'>dynamic_range</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>8</span>, <span class='fl'>8</span>))</div><div class='output co'>#&gt; ================================================================================</div><div class='input'>  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>output</span>)</div><div class='output co'>#&gt;         HEADER_TIME_STAMP MIMS_UNIT
#&gt; 1 2016-01-15 11:00:00.013  14.66365
#&gt; 2 2016-01-15 11:00:15.003  14.76582
#&gt; 3 2016-01-15 11:00:30.003  14.35483
#&gt; 4 2016-01-15 11:00:45.003  14.60055
#&gt; 5 2016-01-15 11:01:00.003  21.73163
#&gt; 6 2016-01-15 11:01:15.003  25.09067</div><div class='input'>
  <span class='co'># output axial values</span>
  <span class='no'>output</span> <span class='kw'>=</span> <span class='fu'>mims_unit</span>(<span class='no'>df</span>, <span class='kw'>epoch</span> <span class='kw'>=</span> <span class='st'>'15 sec'</span>, <span class='kw'>dynamic_range</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>8</span>, <span class='fl'>8</span>), <span class='kw'>output_mims_per_axis</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; ================================================================================</div><div class='input'>  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>output</span>)</div><div class='output co'>#&gt;         HEADER_TIME_STAMP MIMS_UNIT MIMS_UNIT_X MIMS_UNIT_Y MIMS_UNIT_Z
#&gt; 1 2016-01-15 11:00:00.013  14.66365    6.156116    5.856715    2.650823
#&gt; 2 2016-01-15 11:00:15.003  14.76582    5.872067    6.195618    2.698132
#&gt; 3 2016-01-15 11:00:30.003  14.35483    5.827055    5.991348    2.536424
#&gt; 4 2016-01-15 11:00:45.003  14.60055    5.869957    6.059673    2.670916
#&gt; 5 2016-01-15 11:01:00.003  21.73163    6.026324   11.796255    3.909046
#&gt; 6 2016-01-15 11:01:15.003  25.09067    5.682280   14.699529    4.708865</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#how-is-it-used-in-mims-unit-algorithm-">How is it used in MIMS-unit algorithm?</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://qutang.dev'><img class='img-circle p-3' src="https://d33wubrfki0l68.cloudfront.net/8af2089476f179254b3bc9628e13f7d143acab42/8309e/images/avatar.jpg" height="40" /><span> Qu Tang</span></a>, <a href='https://bouve.northeastern.edu/directory/dinesh-john/'><img class='img-circle p-3' src="https://banner2.kisspng.com/20180410/bbw/kisspng-avatar-user-medicine-surgery-patient-avatar-5acc9f7a7cb983.0104600115233596105109.jpg" height="40" /><span> Dinesh John</span></a>, <a href='http://www.ccs.neu.edu/home/intille/'><img class='img-circle p-3' src="http://www.ccs.neu.edu/home/intille/intille-headshot-sm2.jpg" height="40" /><span> Stephen Intille</span></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


